{"version":3,"names":[],"mappings":"","sources":["property.js"],"sourcesContent":["/* globals PROPERTY_INFO*/\nimport assert from './_shared/assert.js';\n\nassert(PROPERTY_INFO, 'No PROPERTY_INFO object provided.');\n\nimport ActiveHighlighter from './_shared/ActiveHighlighter';\nimport MapController from './_sales/MapController.js';\n\nconst MAP_TARGET_SELECTOR = '.js-property-map';\nconst MAP_LABEL_SELECTOR = '.js-map-label';\n\n(function addMetaProperties() {\n  const mediaProperties = `\n  <meta property=\"og:url\"           content=\"http://www.evolv.london\" />\n\t<meta property=\"og:type\"          content=\"website\" />\n\t<meta property=\"og:title\"         content=\"Evolv\" />\n\t<meta property=\"og:description\"   content=\"Luxury London Living\" />\n\t<meta property=\"og:image\"         content=\"/img/prop-img-4.jpg\" />`;\n\n  document.head.innerHTML += mediaProperties;\n}());\n\n\n(function controlPropertyTabs() {\n  const tabsContainer = document.querySelector('.js-property-article-tab-labels');\n  assert(tabsContainer && tabsContainer.nodeName, 'Tab labels not found.');\n\n  const buttons = tabsContainer.children;\n  const activeIndex = 0;\n  const highlightOnClick = true;\n  new ActiveHighlighter({ // eslint-disable-line no-new\n    buttons,\n    activeIndex,\n    highlightOnClick,\n  });\n}());\n\n\n(function controlButtons() {\n  const printBtn = document.querySelector('.js-article-print');\n  printBtn.addEventListener('click', () => window.print());\n\n  // const mailBtn = document.querySelector('.js-article-mail');\n  // mailBtn.addEventListener('click', () => window.print());\n  //\n  // const shareBtn = document.querySelector('.js-article-share');\n  // shareBtn.addEventListener('click', () => window.print());\n}());\n\n(function showOnMap() {\n  // Create map and instantiate a controller\n  const mapController = new MapController(MAP_TARGET_SELECTOR);\n\n  // Add a property marker to map\n  mapController.createMarkersFromCoordinates([PROPERTY_INFO.address]);\n  mapController.createCluster();\n\n  // NOTE: Google maps has some problems being initialised hidden. Therefore\n  // to make it show propperly we trigger an artificial resize event.\n  // We need to set a delay to give preference for the css chage of the\n  // display property in the execution queue before triggering the resize.\n  const mapLabel = document.querySelector(MAP_LABEL_SELECTOR);\n\n  mapLabel.addEventListener('click', () => {\n    setTimeout(() => {\n      mapController.triggerResize();\n      mapController.centerOnMarkers();\n    }, 50);\n  });\n}());\n"],"file":"property.js","sourceRoot":"/source/"}