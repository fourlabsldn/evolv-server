{"version":3,"sources":["property.js"],"names":["assert","condition","errorMessage","completeErrorMessage","caller","name","Error","MarkerClusterer","map","opt_markers","opt_options","this","extend","google","maps","OverlayView","map_","markers_","clusters_","sizes","styles_","ready_","options","gridSize_","minClusterSize_","maxZoom_","imagePath_","MARKER_CLUSTER_IMAGE_PATH_","imageExtension_","MARKER_CLUSTER_IMAGE_EXTENSION_","zoomOnClick_","undefined","averageCenter_","setupStyles_","setMap","prevZoom_","getZoom","that","event","addListener","zoom","minZoom","maxZoom","Math","min","mapTypes","getMapTypeId","max","resetViewport","redraw","length","Object","keys","addMarkers","Cluster","markerClusterer","markerClusterer_","getMap","getGridSize","getMinClusterSize","isAverageCenter","center_","bounds_","clusterIcon_","ClusterIcon","getStyles","cluster","styles","opt_padding","getMarkerClusterer","padding_","cluster_","div_","sums_","visible_","babelHelpers","Symbol","iterator","obj","constructor","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","defineProperty","key","protoProps","staticProps","prototype","Highlight","el","setActive","value","val","bar","style","transform","width","parentBox","parent","getBoundingClientRect","left","translateX","parentWidth","right","setWidth","basePos","getBaseXPosition","elBox","displacement","elWidth","remove","nodeName","document","createElement","classList","add","appendChild","ActiveHighlighter","_ref","arguments","buttons","_ref$activeIndex","activeIndex","_ref$highlightOnClick","highlightOnClick","buttonsArray","tabsParent","Array","from","children","parentElement","activeHighlight","addEventListener","e","tabsPartentBox","outsideX","pageX","outsideY","pageY","bottom","top","mouseOutOfTabsParent","returnToBasePosition","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop2","item","moveToElementPosition","_iterator","next","done","err","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_loop","_iterator2","obj1","obj2","object","property","apply","onAdd","setReady_","draw","size","push","url","height","fitMapToMarkers","marker","markers","getMarkers","bounds","LatLngBounds","getPosition","fitBounds","setStyles","isZoomOnClick","getTotalMarkers","setMaxZoom","getMaxZoom","calculator_","numStyles","index","count","dv","parseInt","text","setCalculator","calculator","getCalculator","opt_nodraw","pushMarkerTo_","isAdded","repaint","addMarker","removeMarker_","indexOf","m","splice","removeMarker","removed","removeMarkers","r","ready","createClusters_","getTotalClusters","setGridSize","setMinClusterSize","getExtendedBounds","projection","getProjection","tr","LatLng","getNorthEast","lat","lng","bl","getSouthWest","trPix","fromLatLngToDivPixel","x","y","blPix","ne","fromDivPixelToLatLng","sw","isMarkerInBounds_","contains","clearMarkers","opt_hide","oldClusters","slice","window","setTimeout","distanceBetweenPoints_","p1","p2","R","dLat","PI","dLon","a","sin","cos","c","atan2","sqrt","d","addToClosestCluster_","distance","clusterToAddTo","center","getCenter","isMarkerInClusterBounds","mapBounds","getBounds","isMarkerAlreadyAdded","l","calculateBounds_","len","updateIcon","getSize","mz","hide","sums","setCenter","setSums","show","triggerClusterClick","trigger","pos","getPosFromLatLng_","cssText","createCss","innerHTML","panes","getPanes","overlayMouseTarget","addDomListener","latlng","width_","height_","display","onRemove","parentNode","removeChild","text_","index_","useStyle","url_","textColor_","anchor_","textSize_","backgroundPosition_","backgroundPosition","txtColor","txtSize","join","o","result","hasOwnProperty","MapController","targetSelector","initMap","mapTypeId","MapTypeId","ROADMAP","scrollwheel","Map","querySelector","amount","lngSpan","latSpan","myLatLng","clearAllMarkers","location","random","Marker","position","createCluster","centerOnMarkers","coordinates","coord","latitude","longitude","markerClustererOptions","textColor","minimumClusterSize","markerCluster","pop","setZoom","MAP_TARGET_SELECTOR","MAP_LABEL_SELECTOR","mediaProperties","head","tabsContainer","printBtn","print","mapController","createMarkersFromCoordinates","PROPERTY_INFO","address","mapLabel","triggerResize"],"mappings":"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","file":"property.js","sourcesContent":["var babelHelpers = {};\nbabelHelpers.typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n\nbabelHelpers.classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nbabelHelpers.createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nbabelHelpers;\n\n// Bug checking function that will throw an error whenever\n// the condition sent to it is evaluated to false\nfunction assert(condition, errorMessage) {\n  if (!condition) {\n    var completeErrorMessage = '';\n\n    if (assert.caller && assert.caller.name) {\n      completeErrorMessage = assert.caller.name + ': ';\n    }\n\n    completeErrorMessage += errorMessage;\n    throw new Error(completeErrorMessage);\n  }\n}\n\nvar Highlight = function () {\n  function Highlight(el) {\n    babelHelpers.classCallCheck(this, Highlight);\n\n    this.setActive(el);\n  }\n\n  babelHelpers.createClass(Highlight, [{\n    key: 'translateX',\n    value: function translateX(val) {\n      assert(typeof val === 'number', 'translateX value is not a number');\n      this.bar.style.transform = 'translate3d(' + val + 'px, 0, 0)';\n    }\n  }, {\n    key: 'setWidth',\n    value: function setWidth(val) {\n      assert(typeof val === 'number', 'translateX value is not a number');\n      this.bar.style.width = val + 'px';\n    }\n  }, {\n    key: 'getBaseXPosition',\n    value: function getBaseXPosition() {\n      var parentBox = this.parent.getBoundingClientRect();\n      return parentBox.left;\n    }\n  }, {\n    key: 'returnToBasePosition',\n    value: function returnToBasePosition() {\n      this.translateX(0);\n      var parentBox = this.parent.getBoundingClientRect();\n      var parentWidth = parentBox.right - parentBox.left;\n      this.setWidth(parentWidth);\n    }\n  }, {\n    key: 'moveToElementPosition',\n    value: function moveToElementPosition(el) {\n      var basePos = this.getBaseXPosition();\n      var elBox = el.getBoundingClientRect();\n      var displacement = elBox.left - basePos;\n      this.translateX(displacement);\n      var elWidth = elBox.right - elBox.left;\n      this.setWidth(elWidth);\n    }\n  }, {\n    key: 'setActive',\n    value: function setActive(el) {\n      if (this.bar) {\n        this.bar.remove();\n        this.bar = null;\n      }\n\n      assert(el && el.nodeName, 'Invalid element passed to setActive');\n      this.parent = el;\n      this.bar = document.createElement('div');\n      this.bar.classList.add('active-highlight');\n      this.parent.appendChild(this.bar);\n    }\n  }]);\n  return Highlight;\n}();\n\nvar ActiveHighlighter = function ActiveHighlighter() {\n  var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  var buttons = _ref.buttons;\n  var _ref$activeIndex = _ref.activeIndex;\n  var activeIndex = _ref$activeIndex === undefined ? 0 : _ref$activeIndex;\n  var _ref$highlightOnClick = _ref.highlightOnClick;\n  var highlightOnClick = _ref$highlightOnClick === undefined ? false : _ref$highlightOnClick;\n  babelHelpers.classCallCheck(this, ActiveHighlighter);\n\n  // NOTE: This module assumes that all tabs share a common parent.\n  var buttonsArray = void 0;\n  var tabsParent = void 0;\n\n  if (buttons.nodeName) {\n    // If tabs is a container, handle all children\n    buttonsArray = Array.from(buttons.children);\n    tabsParent = buttons;\n  } else if (buttons.length) {\n    // If tabs is arraylike handle all elements in the array.\n    buttonsArray = Array.from(buttons);\n    tabsParent = buttonsArray[0].parentElement;\n  } else {\n    throw new Error('Invalid element send to ActiveHighlighter.');\n  }\n\n  var activeHighlight = new Highlight(buttonsArray[activeIndex]);\n\n  // Move highlight back to normal when mouse leaves buttons area\n  tabsParent.addEventListener('mouseleave', function (e) {\n    var tabsPartentBox = tabsParent.getBoundingClientRect();\n    var outsideX = e.pageX > tabsPartentBox.right || e.pageX < tabsPartentBox.left;\n    var outsideY = e.pageY > tabsPartentBox.bottom || e.pageY < tabsPartentBox.top;\n    var mouseOutOfTabsParent = outsideX || outsideY;\n    if (mouseOutOfTabsParent) {\n      activeHighlight.returnToBasePosition();\n    }\n  });\n\n  // Move highlight to the corresponding element on hover.\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop2 = function _loop2() {\n      var item = _step.value;\n\n      item.addEventListener('mouseenter', function () {\n        activeHighlight.moveToElementPosition(item);\n      });\n    };\n\n    for (var _iterator = buttonsArray[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop2();\n    }\n\n    // Change main highlighted element on click if appropriate\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  if (highlightOnClick) {\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      var _loop = function _loop() {\n        var item = _step2.value;\n\n        item.addEventListener('click', function () {\n          activeHighlight.setActive(item);\n        });\n      };\n\n      for (var _iterator2 = buttonsArray[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        _loop();\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  }\n};\n\n// ==ClosureCompiler==\n// @compilation_level ADVANCED_OPTIMIZATIONS\n// @externs_url http://closure-compiler.googlecode.com/svn/trunk/contrib/externs/maps/google_maps_api_v3_3.js\n// ==/ClosureCompiler==\n\n/**\n * @name MarkerClusterer for Google Maps v3\n * @version version 1.0.1\n * @author Luke Mahe\n * @fileoverview\n * The library creates and manages per-zoom-level clusters for large amounts of\n * markers.\n * <br/>\n * This is a v3 implementation of the\n * <a href=\"http://gmaps-utility-library-dev.googlecode.com/svn/tags/markerclusterer/\"\n * >v2 MarkerClusterer</a>.\n */\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A Marker Clusterer that clusters markers.\n *\n * @param {google.maps.Map} map The Google map to attach to.\n * @param {Array.<google.maps.Marker>=} opt_markers Optional markers to add to\n *   the cluster.\n * @param {Object=} opt_options support the following options:\n *     'gridSize': (number) The grid size of a cluster in pixels.\n *     'maxZoom': (number) The maximum zoom level that a marker can be part of a\n *                cluster.\n *     'zoomOnClick': (boolean) Whether the default behaviour of clicking on a\n *                    cluster is to zoom into it.\n *     'averageCenter': (boolean) Wether the center of each cluster should be\n *                      the average of all markers in the cluster.\n *     'minimumClusterSize': (number) The minimum number of markers to be in a\n *                           cluster before the markers are hidden and a count\n *                           is shown.\n *     'styles': (object) An object that has style properties:\n *       'url': (string) The image url.\n *       'height': (number) The image height.\n *       'width': (number) The image width.\n *       'anchor': (Array) The anchor position of the label text.\n *       'textColor': (string) The text color.\n *       'textSize': (number) The text size.\n *       'backgroundPosition': (string) The position of the backgound x, y.\n * @constructor\n * @extends google.maps.OverlayView\n */\nfunction MarkerClusterer(map, opt_markers, opt_options) {\n  // MarkerClusterer implements google.maps.OverlayView interface. We use the\n  // extend function to extend MarkerClusterer with google.maps.OverlayView\n  // because it might not always be available when the code is defined so we\n  // look for it at the last possible moment. If it doesn't exist now then\n  // there is no point going ahead :)\n  this.extend(MarkerClusterer, google.maps.OverlayView);\n  this.map_ = map;\n\n  /**\n   * @type {Array.<google.maps.Marker>}\n   * @private\n   */\n  this.markers_ = [];\n\n  /**\n   *  @type {Array.<Cluster>}\n   */\n  this.clusters_ = [];\n\n  this.sizes = [53, 56, 66, 78, 90];\n\n  /**\n   * @private\n   */\n  this.styles_ = [];\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.ready_ = false;\n\n  var options = opt_options || {};\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.gridSize_ = options['gridSize'] || 60;\n\n  /**\n   * @private\n   */\n  this.minClusterSize_ = options['minimumClusterSize'] || 2;\n\n  /**\n   * @type {?number}\n   * @private\n   */\n  this.maxZoom_ = options['maxZoom'] || null;\n\n  this.styles_ = options['styles'] || [];\n\n  /**\n   * @type {string}\n   * @private\n   */\n  this.imagePath_ = options['imagePath'] || this.MARKER_CLUSTER_IMAGE_PATH_;\n\n  /**\n   * @type {string}\n   * @private\n   */\n  this.imageExtension_ = options['imageExtension'] || this.MARKER_CLUSTER_IMAGE_EXTENSION_;\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.zoomOnClick_ = true;\n\n  if (options['zoomOnClick'] != undefined) {\n    this.zoomOnClick_ = options['zoomOnClick'];\n  }\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.averageCenter_ = false;\n\n  if (options['averageCenter'] != undefined) {\n    this.averageCenter_ = options['averageCenter'];\n  }\n\n  this.setupStyles_();\n\n  this.setMap(map);\n\n  /**\n   * @type {number}\n   * @private\n   */\n  this.prevZoom_ = this.map_.getZoom();\n\n  // Add the map event listeners\n  var that = this;\n  google.maps.event.addListener(this.map_, 'zoom_changed', function () {\n    // Determines map type and prevent illegal zoom levels\n    var zoom = that.map_.getZoom();\n    var minZoom = that.map_.minZoom || 0;\n    var maxZoom = Math.min(that.map_.maxZoom || 100, that.map_.mapTypes[that.map_.getMapTypeId()].maxZoom);\n    zoom = Math.min(Math.max(zoom, minZoom), maxZoom);\n\n    if (that.prevZoom_ != zoom) {\n      that.prevZoom_ = zoom;\n      that.resetViewport();\n    }\n  });\n\n  google.maps.event.addListener(this.map_, 'idle', function () {\n    that.redraw();\n  });\n\n  // Finally, add the markers\n  if (opt_markers && (opt_markers.length || Object.keys(opt_markers).length)) {\n    this.addMarkers(opt_markers, false);\n  }\n}\n\n/**\n * The marker cluster image path.\n *\n * @type {string}\n * @private\n */\nMarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_ = 'http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/' + 'images/m';\n\n/**\n * The marker cluster image path.\n *\n * @type {string}\n * @private\n */\nMarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_ = 'png';\n\n/**\n * Extends a objects prototype by anothers.\n *\n * @param {Object} obj1 The object to be extended.\n * @param {Object} obj2 The object to extend with.\n * @return {Object} The new extended object.\n * @ignore\n */\nMarkerClusterer.prototype.extend = function (obj1, obj2) {\n  return function (object) {\n    for (var property in object.prototype) {\n      this.prototype[property] = object.prototype[property];\n    }\n    return this;\n  }.apply(obj1, [obj2]);\n};\n\n/**\n * Implementaion of the interface method.\n * @ignore\n */\nMarkerClusterer.prototype.onAdd = function () {\n  this.setReady_(true);\n};\n\n/**\n * Implementaion of the interface method.\n * @ignore\n */\nMarkerClusterer.prototype.draw = function () {};\n\n/**\n * Sets up the styles object.\n *\n * @private\n */\nMarkerClusterer.prototype.setupStyles_ = function () {\n  if (this.styles_.length) {\n    return;\n  }\n\n  for (var i = 0, size; size = this.sizes[i]; i++) {\n    this.styles_.push({\n      url: this.imagePath_ + (i + 1) + '.' + this.imageExtension_,\n      height: size,\n      width: size\n    });\n  }\n};\n\n/**\n *  Fit the map to the bounds of the markers in the clusterer.\n */\nMarkerClusterer.prototype.fitMapToMarkers = function () {\n  var markers = this.getMarkers();\n  var bounds = new google.maps.LatLngBounds();\n  for (var i = 0, marker; marker = markers[i]; i++) {\n    bounds.extend(marker.getPosition());\n  }\n\n  this.map_.fitBounds(bounds);\n};\n\n/**\n *  Sets the styles.\n *\n *  @param {Object} styles The style to set.\n */\nMarkerClusterer.prototype.setStyles = function (styles) {\n  this.styles_ = styles;\n};\n\n/**\n *  Gets the styles.\n *\n *  @return {Object} The styles object.\n */\nMarkerClusterer.prototype.getStyles = function () {\n  return this.styles_;\n};\n\n/**\n * Whether zoom on click is set.\n *\n * @return {boolean} True if zoomOnClick_ is set.\n */\nMarkerClusterer.prototype.isZoomOnClick = function () {\n  return this.zoomOnClick_;\n};\n\n/**\n * Whether average center is set.\n *\n * @return {boolean} True if averageCenter_ is set.\n */\nMarkerClusterer.prototype.isAverageCenter = function () {\n  return this.averageCenter_;\n};\n\n/**\n *  Returns the array of markers in the clusterer.\n *\n *  @return {Array.<google.maps.Marker>} The markers.\n */\nMarkerClusterer.prototype.getMarkers = function () {\n  return this.markers_;\n};\n\n/**\n *  Returns the number of markers in the clusterer\n *\n *  @return {Number} The number of markers.\n */\nMarkerClusterer.prototype.getTotalMarkers = function () {\n  return this.markers_.length;\n};\n\n/**\n *  Sets the max zoom for the clusterer.\n *\n *  @param {number} maxZoom The max zoom level.\n */\nMarkerClusterer.prototype.setMaxZoom = function (maxZoom) {\n  this.maxZoom_ = maxZoom;\n};\n\n/**\n *  Gets the max zoom for the clusterer.\n *\n *  @return {number} The max zoom level.\n */\nMarkerClusterer.prototype.getMaxZoom = function () {\n  return this.maxZoom_;\n};\n\n/**\n *  The function for calculating the cluster icon image.\n *\n *  @param {Array.<google.maps.Marker>} markers The markers in the clusterer.\n *  @param {number} numStyles The number of styles available.\n *  @return {Object} A object properties: 'text' (string) and 'index' (number).\n *  @private\n */\nMarkerClusterer.prototype.calculator_ = function (markers, numStyles) {\n  var index = 0;\n  var count = markers.length;\n  var dv = count;\n  while (dv !== 0) {\n    dv = parseInt(dv / 10, 10);\n    index++;\n  }\n\n  index = Math.min(index, numStyles);\n  return {\n    text: count,\n    index: index\n  };\n};\n\n/**\n * Set the calculator function.\n *\n * @param {function(Array, number)} calculator The function to set as the\n *     calculator. The function should return a object properties:\n *     'text' (string) and 'index' (number).\n *\n */\nMarkerClusterer.prototype.setCalculator = function (calculator) {\n  this.calculator_ = calculator;\n};\n\n/**\n * Get the calculator function.\n *\n * @return {function(Array, number)} the calculator function.\n */\nMarkerClusterer.prototype.getCalculator = function () {\n  return this.calculator_;\n};\n\n/**\n * Add an array of markers to the clusterer.\n *\n * @param {Array.<google.maps.Marker>} markers The markers to add.\n * @param {boolean=} opt_nodraw Whether to redraw the clusters.\n */\nMarkerClusterer.prototype.addMarkers = function (markers, opt_nodraw) {\n  if (markers.length) {\n    for (var i = 0, marker; marker = markers[i]; i++) {\n      this.pushMarkerTo_(marker);\n    }\n  } else if (Object.keys(markers).length) {\n    for (var marker in markers) {\n      this.pushMarkerTo_(markers[marker]);\n    }\n  }\n  if (!opt_nodraw) {\n    this.redraw();\n  }\n};\n\n/**\n * Pushes a marker to the clusterer.\n *\n * @param {google.maps.Marker} marker The marker to add.\n * @private\n */\nMarkerClusterer.prototype.pushMarkerTo_ = function (marker) {\n  marker.isAdded = false;\n  if (marker['draggable']) {\n    // If the marker is draggable add a listener so we update the clusters on\n    // the drag end.\n    var that = this;\n    google.maps.event.addListener(marker, 'dragend', function () {\n      marker.isAdded = false;\n      that.repaint();\n    });\n  }\n  this.markers_.push(marker);\n};\n\n/**\n * Adds a marker to the clusterer and redraws if needed.\n *\n * @param {google.maps.Marker} marker The marker to add.\n * @param {boolean=} opt_nodraw Whether to redraw the clusters.\n */\nMarkerClusterer.prototype.addMarker = function (marker, opt_nodraw) {\n  this.pushMarkerTo_(marker);\n  if (!opt_nodraw) {\n    this.redraw();\n  }\n};\n\n/**\n * Removes a marker and returns true if removed, false if not\n *\n * @param {google.maps.Marker} marker The marker to remove\n * @return {boolean} Whether the marker was removed or not\n * @private\n */\nMarkerClusterer.prototype.removeMarker_ = function (marker) {\n  var index = -1;\n  if (this.markers_.indexOf) {\n    index = this.markers_.indexOf(marker);\n  } else {\n    for (var i = 0, m; m = this.markers_[i]; i++) {\n      if (m == marker) {\n        index = i;\n        break;\n      }\n    }\n  }\n\n  if (index == -1) {\n    // Marker is not in our list of markers.\n    return false;\n  }\n\n  marker.setMap(null);\n\n  this.markers_.splice(index, 1);\n\n  return true;\n};\n\n/**\n * Remove a marker from the cluster.\n *\n * @param {google.maps.Marker} marker The marker to remove.\n * @param {boolean=} opt_nodraw Optional boolean to force no redraw.\n * @return {boolean} True if the marker was removed.\n */\nMarkerClusterer.prototype.removeMarker = function (marker, opt_nodraw) {\n  var removed = this.removeMarker_(marker);\n\n  if (!opt_nodraw && removed) {\n    this.resetViewport();\n    this.redraw();\n    return true;\n  } else {\n    return false;\n  }\n};\n\n/**\n * Removes an array of markers from the cluster.\n *\n * @param {Array.<google.maps.Marker>} markers The markers to remove.\n * @param {boolean=} opt_nodraw Optional boolean to force no redraw.\n */\nMarkerClusterer.prototype.removeMarkers = function (markers, opt_nodraw) {\n  var removed = false;\n\n  for (var i = 0, marker; marker = markers[i]; i++) {\n    var r = this.removeMarker_(marker);\n    removed = removed || r;\n  }\n\n  if (!opt_nodraw && removed) {\n    this.resetViewport();\n    this.redraw();\n    return true;\n  }\n};\n\n/**\n * Sets the clusterer's ready state.\n *\n * @param {boolean} ready The state.\n * @private\n */\nMarkerClusterer.prototype.setReady_ = function (ready) {\n  if (!this.ready_) {\n    this.ready_ = ready;\n    this.createClusters_();\n  }\n};\n\n/**\n * Returns the number of clusters in the clusterer.\n *\n * @return {number} The number of clusters.\n */\nMarkerClusterer.prototype.getTotalClusters = function () {\n  return this.clusters_.length;\n};\n\n/**\n * Returns the google map that the clusterer is associated with.\n *\n * @return {google.maps.Map} The map.\n */\nMarkerClusterer.prototype.getMap = function () {\n  return this.map_;\n};\n\n/**\n * Sets the google map that the clusterer is associated with.\n *\n * @param {google.maps.Map} map The map.\n */\nMarkerClusterer.prototype.setMap = function (map) {\n  this.map_ = map;\n};\n\n/**\n * Returns the size of the grid.\n *\n * @return {number} The grid size.\n */\nMarkerClusterer.prototype.getGridSize = function () {\n  return this.gridSize_;\n};\n\n/**\n * Sets the size of the grid.\n *\n * @param {number} size The grid size.\n */\nMarkerClusterer.prototype.setGridSize = function (size) {\n  this.gridSize_ = size;\n};\n\n/**\n * Returns the min cluster size.\n *\n * @return {number} The grid size.\n */\nMarkerClusterer.prototype.getMinClusterSize = function () {\n  return this.minClusterSize_;\n};\n\n/**\n * Sets the min cluster size.\n *\n * @param {number} size The grid size.\n */\nMarkerClusterer.prototype.setMinClusterSize = function (size) {\n  this.minClusterSize_ = size;\n};\n\n/**\n * Extends a bounds object by the grid size.\n *\n * @param {google.maps.LatLngBounds} bounds The bounds to extend.\n * @return {google.maps.LatLngBounds} The extended bounds.\n */\nMarkerClusterer.prototype.getExtendedBounds = function (bounds) {\n  var projection = this.getProjection();\n\n  // Turn the bounds into latlng.\n  var tr = new google.maps.LatLng(bounds.getNorthEast().lat(), bounds.getNorthEast().lng());\n  var bl = new google.maps.LatLng(bounds.getSouthWest().lat(), bounds.getSouthWest().lng());\n\n  // Convert the points to pixels and the extend out by the grid size.\n  var trPix = projection.fromLatLngToDivPixel(tr);\n  trPix.x += this.gridSize_;\n  trPix.y -= this.gridSize_;\n\n  var blPix = projection.fromLatLngToDivPixel(bl);\n  blPix.x -= this.gridSize_;\n  blPix.y += this.gridSize_;\n\n  // Convert the pixel points back to LatLng\n  var ne = projection.fromDivPixelToLatLng(trPix);\n  var sw = projection.fromDivPixelToLatLng(blPix);\n\n  // Extend the bounds to contain the new bounds.\n  bounds.extend(ne);\n  bounds.extend(sw);\n\n  return bounds;\n};\n\n/**\n * Determins if a marker is contained in a bounds.\n *\n * @param {google.maps.Marker} marker The marker to check.\n * @param {google.maps.LatLngBounds} bounds The bounds to check against.\n * @return {boolean} True if the marker is in the bounds.\n * @private\n */\nMarkerClusterer.prototype.isMarkerInBounds_ = function (marker, bounds) {\n  return bounds.contains(marker.getPosition());\n};\n\n/**\n * Clears all clusters and markers from the clusterer.\n */\nMarkerClusterer.prototype.clearMarkers = function () {\n  this.resetViewport(true);\n\n  // Set the markers a empty array.\n  this.markers_ = [];\n};\n\n/**\n * Clears all existing clusters and recreates them.\n * @param {boolean} opt_hide To also hide the marker.\n */\nMarkerClusterer.prototype.resetViewport = function (opt_hide) {\n  // Remove all the clusters\n  for (var i = 0, cluster; cluster = this.clusters_[i]; i++) {\n    cluster.remove();\n  }\n\n  // Reset the markers to not be added and to be invisible.\n  for (var i = 0, marker; marker = this.markers_[i]; i++) {\n    marker.isAdded = false;\n    if (opt_hide) {\n      marker.setMap(null);\n    }\n  }\n\n  this.clusters_ = [];\n};\n\n/**\n *\n */\nMarkerClusterer.prototype.repaint = function () {\n  var oldClusters = this.clusters_.slice();\n  this.clusters_.length = 0;\n  this.resetViewport();\n  this.redraw();\n\n  // Remove the old clusters.\n  // Do it in a timeout so the other clusters have been drawn first.\n  window.setTimeout(function () {\n    for (var i = 0, cluster; cluster = oldClusters[i]; i++) {\n      cluster.remove();\n    }\n  }, 0);\n};\n\n/**\n * Redraws the clusters.\n */\nMarkerClusterer.prototype.redraw = function () {\n  this.createClusters_();\n};\n\n/**\n * Calculates the distance between two latlng locations in km.\n * @see http://www.movable-type.co.uk/scripts/latlong.html\n *\n * @param {google.maps.LatLng} p1 The first lat lng point.\n * @param {google.maps.LatLng} p2 The second lat lng point.\n * @return {number} The distance between the two points in km.\n * @private\n*/\nMarkerClusterer.prototype.distanceBetweenPoints_ = function (p1, p2) {\n  if (!p1 || !p2) {\n    return 0;\n  }\n\n  var R = 6371; // Radius of the Earth in km\n  var dLat = (p2.lat() - p1.lat()) * Math.PI / 180;\n  var dLon = (p2.lng() - p1.lng()) * Math.PI / 180;\n  var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(p1.lat() * Math.PI / 180) * Math.cos(p2.lat() * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  var d = R * c;\n  return d;\n};\n\n/**\n * Add a marker to a cluster, or creates a new cluster.\n *\n * @param {google.maps.Marker} marker The marker to add.\n * @private\n */\nMarkerClusterer.prototype.addToClosestCluster_ = function (marker) {\n  var distance = 40000; // Some large number\n  var clusterToAddTo = null;\n  var pos = marker.getPosition();\n  for (var i = 0, cluster; cluster = this.clusters_[i]; i++) {\n    var center = cluster.getCenter();\n    if (center) {\n      var d = this.distanceBetweenPoints_(center, marker.getPosition());\n      if (d < distance) {\n        distance = d;\n        clusterToAddTo = cluster;\n      }\n    }\n  }\n\n  if (clusterToAddTo && clusterToAddTo.isMarkerInClusterBounds(marker)) {\n    clusterToAddTo.addMarker(marker);\n  } else {\n    var cluster = new Cluster(this);\n    cluster.addMarker(marker);\n    this.clusters_.push(cluster);\n  }\n};\n\n/**\n * Creates the clusters.\n *\n * @private\n */\nMarkerClusterer.prototype.createClusters_ = function () {\n  if (!this.ready_) {\n    return;\n  }\n\n  // Get our current map view bounds.\n  // Create a new bounds object so we don't affect the map.\n  var mapBounds = new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(), this.map_.getBounds().getNorthEast());\n  var bounds = this.getExtendedBounds(mapBounds);\n\n  for (var i = 0, marker; marker = this.markers_[i]; i++) {\n    if (!marker.isAdded && this.isMarkerInBounds_(marker, bounds)) {\n      this.addToClosestCluster_(marker);\n    }\n  }\n};\n\n/**\n * A cluster that contains markers.\n *\n * @param {MarkerClusterer} markerClusterer The markerclusterer that this\n *     cluster is associated with.\n * @constructor\n * @ignore\n */\nfunction Cluster(markerClusterer) {\n  this.markerClusterer_ = markerClusterer;\n  this.map_ = markerClusterer.getMap();\n  this.gridSize_ = markerClusterer.getGridSize();\n  this.minClusterSize_ = markerClusterer.getMinClusterSize();\n  this.averageCenter_ = markerClusterer.isAverageCenter();\n  this.center_ = null;\n  this.markers_ = [];\n  this.bounds_ = null;\n  this.clusterIcon_ = new ClusterIcon(this, markerClusterer.getStyles(), markerClusterer.getGridSize());\n}\n\n/**\n * Determins if a marker is already added to the cluster.\n *\n * @param {google.maps.Marker} marker The marker to check.\n * @return {boolean} True if the marker is already added.\n */\nCluster.prototype.isMarkerAlreadyAdded = function (marker) {\n  if (this.markers_.indexOf) {\n    return this.markers_.indexOf(marker) != -1;\n  } else {\n    for (var i = 0, m; m = this.markers_[i]; i++) {\n      if (m == marker) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\n/**\n * Add a marker the cluster.\n *\n * @param {google.maps.Marker} marker The marker to add.\n * @return {boolean} True if the marker was added.\n */\nCluster.prototype.addMarker = function (marker) {\n  if (this.isMarkerAlreadyAdded(marker)) {\n    return false;\n  }\n\n  if (!this.center_) {\n    this.center_ = marker.getPosition();\n    this.calculateBounds_();\n  } else {\n    if (this.averageCenter_) {\n      var l = this.markers_.length + 1;\n      var lat = (this.center_.lat() * (l - 1) + marker.getPosition().lat()) / l;\n      var lng = (this.center_.lng() * (l - 1) + marker.getPosition().lng()) / l;\n      this.center_ = new google.maps.LatLng(lat, lng);\n      this.calculateBounds_();\n    }\n  }\n\n  marker.isAdded = true;\n  this.markers_.push(marker);\n\n  var len = this.markers_.length;\n  if (len < this.minClusterSize_ && marker.getMap() != this.map_) {\n    // Min cluster size not reached so show the marker.\n    marker.setMap(this.map_);\n  }\n\n  if (len == this.minClusterSize_) {\n    // Hide the markers that were showing.\n    for (var i = 0; i < len; i++) {\n      this.markers_[i].setMap(null);\n    }\n  }\n\n  if (len >= this.minClusterSize_) {\n    marker.setMap(null);\n  }\n\n  this.updateIcon();\n  return true;\n};\n\n/**\n * Returns the marker clusterer that the cluster is associated with.\n *\n * @return {MarkerClusterer} The associated marker clusterer.\n */\nCluster.prototype.getMarkerClusterer = function () {\n  return this.markerClusterer_;\n};\n\n/**\n * Returns the bounds of the cluster.\n *\n * @return {google.maps.LatLngBounds} the cluster bounds.\n */\nCluster.prototype.getBounds = function () {\n  var bounds = new google.maps.LatLngBounds(this.center_, this.center_);\n  var markers = this.getMarkers();\n  for (var i = 0, marker; marker = markers[i]; i++) {\n    bounds.extend(marker.getPosition());\n  }\n  return bounds;\n};\n\n/**\n * Removes the cluster\n */\nCluster.prototype.remove = function () {\n  this.clusterIcon_.remove();\n  this.markers_.length = 0;\n  delete this.markers_;\n};\n\n/**\n * Returns the center of the cluster.\n *\n * @return {number} The cluster center.\n */\nCluster.prototype.getSize = function () {\n  return this.markers_.length;\n};\n\n/**\n * Returns the center of the cluster.\n *\n * @return {Array.<google.maps.Marker>} The cluster center.\n */\nCluster.prototype.getMarkers = function () {\n  return this.markers_;\n};\n\n/**\n * Returns the center of the cluster.\n *\n * @return {google.maps.LatLng} The cluster center.\n */\nCluster.prototype.getCenter = function () {\n  return this.center_;\n};\n\n/**\n * Calculated the extended bounds of the cluster with the grid.\n *\n * @private\n */\nCluster.prototype.calculateBounds_ = function () {\n  var bounds = new google.maps.LatLngBounds(this.center_, this.center_);\n  this.bounds_ = this.markerClusterer_.getExtendedBounds(bounds);\n};\n\n/**\n * Determines if a marker lies in the clusters bounds.\n *\n * @param {google.maps.Marker} marker The marker to check.\n * @return {boolean} True if the marker lies in the bounds.\n */\nCluster.prototype.isMarkerInClusterBounds = function (marker) {\n  return this.bounds_.contains(marker.getPosition());\n};\n\n/**\n * Returns the map that the cluster is associated with.\n *\n * @return {google.maps.Map} The map.\n */\nCluster.prototype.getMap = function () {\n  return this.map_;\n};\n\n/**\n * Updates the cluster icon\n */\nCluster.prototype.updateIcon = function () {\n  var zoom = this.map_.getZoom();\n  var mz = this.markerClusterer_.getMaxZoom();\n\n  if (mz && zoom > mz) {\n    // The zoom is greater than our max zoom so show all the markers in cluster.\n    for (var i = 0, marker; marker = this.markers_[i]; i++) {\n      marker.setMap(this.map_);\n    }\n    return;\n  }\n\n  if (this.markers_.length < this.minClusterSize_) {\n    // Min cluster size not yet reached.\n    this.clusterIcon_.hide();\n    return;\n  }\n\n  var numStyles = this.markerClusterer_.getStyles().length;\n  var sums = this.markerClusterer_.getCalculator()(this.markers_, numStyles);\n  this.clusterIcon_.setCenter(this.center_);\n  this.clusterIcon_.setSums(sums);\n  this.clusterIcon_.show();\n};\n\n/**\n * A cluster icon\n *\n * @param {Cluster} cluster The cluster to be associated with.\n * @param {Object} styles An object that has style properties:\n *     'url': (string) The image url.\n *     'height': (number) The image height.\n *     'width': (number) The image width.\n *     'anchor': (Array) The anchor position of the label text.\n *     'textColor': (string) The text color.\n *     'textSize': (number) The text size.\n *     'backgroundPosition: (string) The background postition x, y.\n * @param {number=} opt_padding Optional padding to apply to the cluster icon.\n * @constructor\n * @extends google.maps.OverlayView\n * @ignore\n */\nfunction ClusterIcon(cluster, styles, opt_padding) {\n  cluster.getMarkerClusterer().extend(ClusterIcon, google.maps.OverlayView);\n\n  this.styles_ = styles;\n  this.padding_ = opt_padding || 0;\n  this.cluster_ = cluster;\n  this.center_ = null;\n  this.map_ = cluster.getMap();\n  this.div_ = null;\n  this.sums_ = null;\n  this.visible_ = false;\n\n  this.setMap(this.map_);\n}\n\n/**\n * Triggers the clusterclick event and zoom's if the option is set.\n */\nClusterIcon.prototype.triggerClusterClick = function () {\n  var markerClusterer = this.cluster_.getMarkerClusterer();\n\n  // Trigger the clusterclick event.\n  google.maps.event.trigger(markerClusterer, 'clusterclick', this.cluster_);\n\n  if (markerClusterer.isZoomOnClick()) {\n    // Zoom into the cluster.\n    this.map_.fitBounds(this.cluster_.getBounds());\n  }\n};\n\n/**\n * Adding the cluster icon to the dom.\n * @ignore\n */\nClusterIcon.prototype.onAdd = function () {\n  this.div_ = document.createElement('DIV');\n  if (this.visible_) {\n    var pos = this.getPosFromLatLng_(this.center_);\n    this.div_.style.cssText = this.createCss(pos);\n    this.div_.innerHTML = this.sums_.text;\n  }\n\n  var panes = this.getPanes();\n  panes.overlayMouseTarget.appendChild(this.div_);\n\n  var that = this;\n  google.maps.event.addDomListener(this.div_, 'click', function () {\n    that.triggerClusterClick();\n  });\n};\n\n/**\n * Returns the position to place the div dending on the latlng.\n *\n * @param {google.maps.LatLng} latlng The position in latlng.\n * @return {google.maps.Point} The position in pixels.\n * @private\n */\nClusterIcon.prototype.getPosFromLatLng_ = function (latlng) {\n  var pos = this.getProjection().fromLatLngToDivPixel(latlng);\n  pos.x -= parseInt(this.width_ / 2, 10);\n  pos.y -= parseInt(this.height_ / 2, 10);\n  return pos;\n};\n\n/**\n * Draw the icon.\n * @ignore\n */\nClusterIcon.prototype.draw = function () {\n  if (this.visible_) {\n    var pos = this.getPosFromLatLng_(this.center_);\n    this.div_.style.top = pos.y + 'px';\n    this.div_.style.left = pos.x + 'px';\n  }\n};\n\n/**\n * Hide the icon.\n */\nClusterIcon.prototype.hide = function () {\n  if (this.div_) {\n    this.div_.style.display = 'none';\n  }\n  this.visible_ = false;\n};\n\n/**\n * Position and show the icon.\n */\nClusterIcon.prototype.show = function () {\n  if (this.div_) {\n    var pos = this.getPosFromLatLng_(this.center_);\n    this.div_.style.cssText = this.createCss(pos);\n    this.div_.style.display = '';\n  }\n  this.visible_ = true;\n};\n\n/**\n * Remove the icon from the map\n */\nClusterIcon.prototype.remove = function () {\n  this.setMap(null);\n};\n\n/**\n * Implementation of the onRemove interface.\n * @ignore\n */\nClusterIcon.prototype.onRemove = function () {\n  if (this.div_ && this.div_.parentNode) {\n    this.hide();\n    this.div_.parentNode.removeChild(this.div_);\n    this.div_ = null;\n  }\n};\n\n/**\n * Set the sums of the icon.\n *\n * @param {Object} sums The sums containing:\n *   'text': (string) The text to display in the icon.\n *   'index': (number) The style index of the icon.\n */\nClusterIcon.prototype.setSums = function (sums) {\n  this.sums_ = sums;\n  this.text_ = sums.text;\n  this.index_ = sums.index;\n  if (this.div_) {\n    this.div_.innerHTML = sums.text;\n  }\n\n  this.useStyle();\n};\n\n/**\n * Sets the icon to the the styles.\n */\nClusterIcon.prototype.useStyle = function () {\n  var index = Math.max(0, this.sums_.index - 1);\n  index = Math.min(this.styles_.length - 1, index);\n  var style = this.styles_[index];\n  this.url_ = style['url'];\n  this.height_ = style['height'];\n  this.width_ = style['width'];\n  this.textColor_ = style['textColor'];\n  this.anchor_ = style['anchor'];\n  this.textSize_ = style['textSize'];\n  this.backgroundPosition_ = style['backgroundPosition'];\n};\n\n/**\n * Sets the center of the icon.\n *\n * @param {google.maps.LatLng} center The latlng to set as the center.\n */\nClusterIcon.prototype.setCenter = function (center) {\n  this.center_ = center;\n};\n\n/**\n * Create the css text based on the position of the icon.\n *\n * @param {google.maps.Point} pos The position.\n * @return {string} The css style text.\n */\nClusterIcon.prototype.createCss = function (pos) {\n  var style = [];\n  style.push('background-image:url(' + this.url_ + ');');\n  var backgroundPosition = this.backgroundPosition_ ? this.backgroundPosition_ : '0 0';\n  style.push('background-position:' + backgroundPosition + ';');\n\n  if (babelHelpers.typeof(this.anchor_) === 'object') {\n    if (typeof this.anchor_[0] === 'number' && this.anchor_[0] > 0 && this.anchor_[0] < this.height_) {\n      style.push('height:' + (this.height_ - this.anchor_[0]) + 'px; padding-top:' + this.anchor_[0] + 'px;');\n    } else {\n      style.push('height:' + this.height_ + 'px; line-height:' + this.height_ + 'px;');\n    }\n    if (typeof this.anchor_[1] === 'number' && this.anchor_[1] > 0 && this.anchor_[1] < this.width_) {\n      style.push('width:' + (this.width_ - this.anchor_[1]) + 'px; padding-left:' + this.anchor_[1] + 'px;');\n    } else {\n      style.push('width:' + this.width_ + 'px; text-align:center;');\n    }\n  } else {\n    style.push('height:' + this.height_ + 'px; line-height:' + this.height_ + 'px; width:' + this.width_ + 'px; text-align:center;');\n  }\n\n  var txtColor = this.textColor_ ? this.textColor_ : 'black';\n  var txtSize = this.textSize_ ? this.textSize_ : 11;\n\n  style.push('cursor:pointer; top:' + pos.y + 'px; left:' + pos.x + 'px; color:' + txtColor + '; position:absolute; font-size:' + txtSize + 'px; font-family:Arial,sans-serif; font-weight:bold');\n  return style.join('');\n};\n\n// Export Symbols for Closure\n// If you are not going to compile with closure then you can remove the\n// code below.\nwindow['MarkerClusterer'] = MarkerClusterer;\nMarkerClusterer.prototype['addMarker'] = MarkerClusterer.prototype.addMarker;\nMarkerClusterer.prototype['addMarkers'] = MarkerClusterer.prototype.addMarkers;\nMarkerClusterer.prototype['clearMarkers'] = MarkerClusterer.prototype.clearMarkers;\nMarkerClusterer.prototype['fitMapToMarkers'] = MarkerClusterer.prototype.fitMapToMarkers;\nMarkerClusterer.prototype['getCalculator'] = MarkerClusterer.prototype.getCalculator;\nMarkerClusterer.prototype['getGridSize'] = MarkerClusterer.prototype.getGridSize;\nMarkerClusterer.prototype['getExtendedBounds'] = MarkerClusterer.prototype.getExtendedBounds;\nMarkerClusterer.prototype['getMap'] = MarkerClusterer.prototype.getMap;\nMarkerClusterer.prototype['getMarkers'] = MarkerClusterer.prototype.getMarkers;\nMarkerClusterer.prototype['getMaxZoom'] = MarkerClusterer.prototype.getMaxZoom;\nMarkerClusterer.prototype['getStyles'] = MarkerClusterer.prototype.getStyles;\nMarkerClusterer.prototype['getTotalClusters'] = MarkerClusterer.prototype.getTotalClusters;\nMarkerClusterer.prototype['getTotalMarkers'] = MarkerClusterer.prototype.getTotalMarkers;\nMarkerClusterer.prototype['redraw'] = MarkerClusterer.prototype.redraw;\nMarkerClusterer.prototype['removeMarker'] = MarkerClusterer.prototype.removeMarker;\nMarkerClusterer.prototype['removeMarkers'] = MarkerClusterer.prototype.removeMarkers;\nMarkerClusterer.prototype['resetViewport'] = MarkerClusterer.prototype.resetViewport;\nMarkerClusterer.prototype['repaint'] = MarkerClusterer.prototype.repaint;\nMarkerClusterer.prototype['setCalculator'] = MarkerClusterer.prototype.setCalculator;\nMarkerClusterer.prototype['setGridSize'] = MarkerClusterer.prototype.setGridSize;\nMarkerClusterer.prototype['setMaxZoom'] = MarkerClusterer.prototype.setMaxZoom;\nMarkerClusterer.prototype['onAdd'] = MarkerClusterer.prototype.onAdd;\nMarkerClusterer.prototype['draw'] = MarkerClusterer.prototype.draw;\n\nCluster.prototype['getCenter'] = Cluster.prototype.getCenter;\nCluster.prototype['getSize'] = Cluster.prototype.getSize;\nCluster.prototype['getMarkers'] = Cluster.prototype.getMarkers;\n\nClusterIcon.prototype['onAdd'] = ClusterIcon.prototype.onAdd;\nClusterIcon.prototype['draw'] = ClusterIcon.prototype.draw;\nClusterIcon.prototype['onRemove'] = ClusterIcon.prototype.onRemove;\n\nObject.keys = Object.keys || function (o) {\n  var result = [];\n  for (var name in o) {\n    if (o.hasOwnProperty(name)) result.push(name);\n  }\n  return result;\n};\n\nvar MapController = function () {\n  function MapController(targetSelector) {\n    babelHelpers.classCallCheck(this, MapController);\n\n    this.markers = [];\n    this.map = this.initMap(targetSelector);\n  }\n\n  babelHelpers.createClass(MapController, [{\n    key: 'initMap',\n    value: function initMap(targetSelector) {\n      var options = {\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        zoom: 14,\n        scrollwheel: false,\n        maxZoom: 17\n      };\n\n      var map = new google.maps.Map(document.querySelector(targetSelector), options);\n      return map;\n    }\n  }, {\n    key: 'createRandomMarkers',\n    value: function createRandomMarkers() {\n      var amount = arguments.length <= 0 || arguments[0] === undefined ? 5 : arguments[0];\n      var map = arguments.length <= 1 || arguments[1] === undefined ? this.map : arguments[1];\n\n      var lngSpan = 0.17;\n      var latSpan = 0.03;\n      var myLatLng = new google.maps.LatLng(51.500524, -0.1769147);\n      var markers = [];\n\n      if (map === this.map) {\n        this.clearAllMarkers(this.markers);\n        this.markers = markers;\n      }\n\n      // Create some markers\n      for (var i = 1; i < amount; i++) {\n        var location = new google.maps.LatLng(myLatLng.lat() - latSpan / 2 + latSpan * Math.random(), myLatLng.lng() - lngSpan / 2 + lngSpan * Math.random());\n\n        var marker = new google.maps.Marker({\n          position: location,\n          map: map\n        });\n\n        markers.push(marker);\n      }\n\n      this.createCluster(markers, map);\n      this.centerOnMarkers(markers, map);\n      return markers;\n    }\n\n    /**\n     * @method createMarkersFromCoordinates\n     * @param  {Array} coordinates Each element must have a latitude and a longitude\n     * @param  {Object} map   Google Maps Object\n     * @return {Array[Object]}\n     */\n\n  }, {\n    key: 'createMarkersFromCoordinates',\n    value: function createMarkersFromCoordinates(coordinates) {\n      var map = arguments.length <= 1 || arguments[1] === undefined ? this.map : arguments[1];\n\n      var markers = [];\n\n      if (map === this.map) {\n        this.clearAllMarkers(this.markers);\n        this.markers = markers;\n      }\n\n      // Create some markers\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = coordinates[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var coord = _step.value;\n\n          var location = new google.maps.LatLng(coord.latitude, coord.longitude);\n          var marker = new google.maps.Marker({\n            position: location,\n            map: map\n          });\n\n          markers.push(marker);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this.centerOnMarkers(markers, map);\n      return markers;\n    }\n  }, {\n    key: 'centerOnMarkers',\n    value: function centerOnMarkers() {\n      var markers = arguments.length <= 0 || arguments[0] === undefined ? this.markers : arguments[0];\n      var map = arguments.length <= 1 || arguments[1] === undefined ? this.map : arguments[1];\n\n      var bounds = new google.maps.LatLngBounds();\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = markers[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var marker = _step2.value;\n\n          bounds.extend(marker.getPosition());\n        }\n\n        // Center the map according to our markers.\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      map.fitBounds(bounds);\n    }\n  }, {\n    key: 'createCluster',\n    value: function createCluster() {\n      var markers = arguments.length <= 0 || arguments[0] === undefined ? this.markers : arguments[0];\n      var map = arguments.length <= 1 || arguments[1] === undefined ? this.map : arguments[1];\n\n      var markerClustererOptions = {\n        styles: [{\n          textColor: 'white',\n          url: 'img/marker.svg',\n          height: 52,\n          width: 31\n        }],\n        minimumClusterSize: 1\n      };\n\n      var markerCluster = new MarkerClusterer(map, markers, markerClustererOptions);\n      return markerCluster;\n    }\n  }, {\n    key: 'clearAllMarkers',\n    value: function clearAllMarkers() {\n      var markers = arguments.length <= 0 || arguments[0] === undefined ? this.markers : arguments[0];\n\n      while (markers.length) {\n        markers.pop().setMap(null);\n      }\n\n      return markers;\n    }\n  }, {\n    key: 'triggerResize',\n    value: function triggerResize() {\n      var map = arguments.length <= 0 || arguments[0] === undefined ? this.map : arguments[0];\n\n      google.maps.event.trigger(map, 'resize');\n      // map.setZoom(map.getZoom());\n      map.setZoom(16);\n    }\n  }]);\n  return MapController;\n}();\n\nvar MAP_TARGET_SELECTOR = '.js-property-map';\nvar MAP_LABEL_SELECTOR = '.js-map-label';\n\n(function addMetaProperties() {\n  var mediaProperties = '\\n  <meta property=\"og:url\"           content=\"http://www.evolv.london\" />\\n\\t<meta property=\"og:type\"          content=\"website\" />\\n\\t<meta property=\"og:title\"         content=\"Evolv\" />\\n\\t<meta property=\"og:description\"   content=\"Luxury London Living\" />\\n\\t<meta property=\"og:image\"         content=\"/img/prop-img-4.jpg\" />';\n\n  document.head.innerHTML += mediaProperties;\n})();\n\n(function controlPropertyTabs() {\n  var tabsContainer = document.querySelector('.js-property-article-tab-labels');\n  assert(tabsContainer && tabsContainer.nodeName, 'Tab labels not found.');\n\n  var buttons = tabsContainer.children;\n  var activeIndex = 0;\n  var highlightOnClick = true;\n  new ActiveHighlighter({ // eslint-disable-line no-new\n    buttons: buttons,\n    activeIndex: activeIndex,\n    highlightOnClick: highlightOnClick\n  });\n})();\n\n(function controlButtons() {\n  var printBtn = document.querySelector('.js-article-print');\n  printBtn.addEventListener('click', function () {\n    return window.print();\n  });\n\n  // const mailBtn = document.querySelector('.js-article-mail');\n  // mailBtn.addEventListener('click', () => window.print());\n  //\n  // const shareBtn = document.querySelector('.js-article-share');\n  // shareBtn.addEventListener('click', () => window.print());\n})();\n\n(function showOnMap() {\n  // Create map and instantiate a controller\n  var mapController = new MapController(MAP_TARGET_SELECTOR);\n\n  // Add a property marker to map\n  mapController.createMarkersFromCoordinates([PROPERTY_INFO.address]);\n  mapController.createCluster();\n\n  // NOTE: Google maps has some problems being initialised hidden. Therefore\n  // to make it show propperly we trigger an artificial resize event.\n  // We need to set a delay to give preference for the css chage of the\n  // display property in the execution queue before triggering the resize.\n  var mapLabel = document.querySelector(MAP_LABEL_SELECTOR);\n\n  mapLabel.addEventListener('click', function () {\n    setTimeout(function () {\n      mapController.triggerResize();\n      mapController.centerOnMarkers();\n    }, 50);\n  });\n})();"],"sourceRoot":"/source/"}