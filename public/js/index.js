function assert(e,t){if(!e){var n="";throw assert.caller&&assert.caller.name&&(n=assert.caller.name+": "),n+=t,new Error(n)}}var babelHelpers={};babelHelpers["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},babelHelpers.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},babelHelpers.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var Highlight=function(){function e(t){babelHelpers.classCallCheck(this,e),this.setActive(t)}return babelHelpers.createClass(e,[{key:"translateX",value:function(e){assert("number"==typeof e,"translateX value is not a number"),this.bar.style.transform="translate3d("+e+"px, 0, 0)"}},{key:"setWidth",value:function(e){assert("number"==typeof e,"translateX value is not a number"),this.bar.style.width=e+"px"}},{key:"getBaseXPosition",value:function(){var e=this.parent.getBoundingClientRect();return e.left}},{key:"returnToBasePosition",value:function(){this.translateX(0);var e=this.parent.getBoundingClientRect(),t=e.right-e.left;this.setWidth(t)}},{key:"moveToElementPosition",value:function(e){var t=this.getBaseXPosition(),n=e.getBoundingClientRect(),i=n.left-t;this.translateX(i);var r=n.right-n.left;this.setWidth(r)}},{key:"setActive",value:function(e){this.bar&&(this.bar.remove(),this.bar=null),assert(e&&e.nodeName,"Invalid element passed to setActive"),this.parent=e,this.bar=document.createElement("div"),this.bar.classList.add("active-highlight"),this.parent.appendChild(this.bar)}}]),e}(),ActiveHighlighter=function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.buttons,i=t.activeIndex,r=void 0===i?0:i,a=t.highlightOnClick,l=void 0===a?!1:a;babelHelpers.classCallCheck(this,e);var o=void 0,s=void 0;if(n.nodeName)o=Array.from(n.children),s=n;else{if(!n.length)throw new Error("Invalid element send to ActiveHighlighter.");o=Array.from(n),s=o[0].parentElement}var c=new Highlight(o[r]);s.addEventListener("mouseleave",function(e){var t=s.getBoundingClientRect(),n=e.pageX>t.right||e.pageX<t.left,i=e.pageY>t.bottom||e.pageY<t.top,r=n||i;r&&c.returnToBasePosition()});var u=!0,h=!1,v=void 0;try{for(var f,b=function(){var e=f.value;e.addEventListener("mouseenter",function(){c.moveToElementPosition(e)})},d=o[Symbol.iterator]();!(u=(f=d.next()).done);u=!0)b()}catch(g){h=!0,v=g}finally{try{!u&&d["return"]&&d["return"]()}finally{if(h)throw v}}if(l){var y=!0,m=!1,p=void 0;try{for(var C,k=function(){var e=C.value;e.addEventListener("click",function(){c.setActive(e)})},w=o[Symbol.iterator]();!(y=(C=w.next()).done);y=!0)k()}catch(g){m=!0,p=g}finally{try{!y&&w["return"]&&w["return"]()}finally{if(m)throw p}}}},buttons=document.querySelectorAll(".tab-label"),activeIndex=0,highlightOnClick=!0;new ActiveHighlighter({buttons:buttons,activeIndex:activeIndex,highlightOnClick:highlightOnClick});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFzc2VydCIsImNvbmRpdGlvbiIsImVycm9yTWVzc2FnZSIsImNvbXBsZXRlRXJyb3JNZXNzYWdlIiwiY2FsbGVyIiwibmFtZSIsIkVycm9yIiwiYmFiZWxIZWxwZXJzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJvYmoiLCJjb25zdHJ1Y3RvciIsImNsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsImNyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkhpZ2hsaWdodCIsImVsIiwidGhpcyIsInNldEFjdGl2ZSIsInZhbHVlIiwidmFsIiwiYmFyIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJ3aWR0aCIsInBhcmVudEJveCIsInBhcmVudCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJ0cmFuc2xhdGVYIiwicGFyZW50V2lkdGgiLCJyaWdodCIsInNldFdpZHRoIiwiYmFzZVBvcyIsImdldEJhc2VYUG9zaXRpb24iLCJlbEJveCIsImRpc3BsYWNlbWVudCIsImVsV2lkdGgiLCJyZW1vdmUiLCJub2RlTmFtZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwiQWN0aXZlSGlnaGxpZ2h0ZXIiLCJfcmVmIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiYnV0dG9ucyIsIl9yZWYkYWN0aXZlSW5kZXgiLCJhY3RpdmVJbmRleCIsIl9yZWYkaGlnaGxpZ2h0T25DbGljayIsImhpZ2hsaWdodE9uQ2xpY2siLCJidXR0b25zQXJyYXkiLCJ0YWJzUGFyZW50IiwiQXJyYXkiLCJmcm9tIiwiY2hpbGRyZW4iLCJwYXJlbnRFbGVtZW50IiwiYWN0aXZlSGlnaGxpZ2h0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YWJzUGFydGVudEJveCIsIm91dHNpZGVYIiwicGFnZVgiLCJvdXRzaWRlWSIsInBhZ2VZIiwiYm90dG9tIiwidG9wIiwibW91c2VPdXRPZlRhYnNQYXJlbnQiLCJyZXR1cm5Ub0Jhc2VQb3NpdGlvbiIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfbG9vcDIiLCJpdGVtIiwibW92ZVRvRWxlbWVudFBvc2l0aW9uIiwiX2l0ZXJhdG9yIiwibmV4dCIsImRvbmUiLCJlcnIiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9sb29wIiwiX2l0ZXJhdG9yMiIsInF1ZXJ5U2VsZWN0b3JBbGwiXSwibWFwcGluZ3MiOiJBQW1DQSxRQUFTQSxRQUFPQyxFQUFXQyxHQUN6QixJQUFLRCxFQUFXLENBQ2QsR0FBSUUsR0FBdUIsRUFPM0IsTUFMSUgsUUFBT0ksUUFBVUosT0FBT0ksT0FBT0MsT0FDakNGLEVBQXVCSCxPQUFPSSxPQUFPQyxLQUFPLE1BRzlDRixHQUF3QkQsRUFDbEIsR0FBSUksT0FBTUgsSUE1Q3BCLEdBQUlJLGdCQUNKQSxjQUFBQSxVQUF3QyxrQkFBWEMsU0FBb0QsZ0JBQXBCQSxRQUFPQyxTQUF3QixTQUFVQyxHQUNwRyxhQUFjQSxJQUNaLFNBQVVBLEdBQ1osTUFBT0EsSUFBeUIsa0JBQVhGLFNBQXlCRSxFQUFJQyxjQUFnQkgsT0FBUyxlQUFrQkUsSUFHL0ZILGFBQWFLLGVBQWlCLFNBQVVDLEVBQVVDLEdBQ2hELEtBQU1ELFlBQW9CQyxJQUN4QixLQUFNLElBQUlDLFdBQVUsc0NBSXhCUixhQUFhUyxZQUFjLFdBQ3pCLFFBQVNDLEdBQWlC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IjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYmFiZWxIZWxwZXJzID0ge307XG5iYWJlbEhlbHBlcnMudHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbmJhYmVsSGVscGVycy5jbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG5iYWJlbEhlbHBlcnMuY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbmJhYmVsSGVscGVycztcblxuLy8gQnVnIGNoZWNraW5nIGZ1bmN0aW9uIHRoYXQgd2lsbCB0aHJvdyBhbiBlcnJvciB3aGVuZXZlclxuLy8gdGhlIGNvbmRpdGlvbiBzZW50IHRvIGl0IGlzIGV2YWx1YXRlZCB0byBmYWxzZVxuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgZXJyb3JNZXNzYWdlKSB7XG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGNvbXBsZXRlRXJyb3JNZXNzYWdlID0gJyc7XG5cbiAgICBpZiAoYXNzZXJ0LmNhbGxlciAmJiBhc3NlcnQuY2FsbGVyLm5hbWUpIHtcbiAgICAgIGNvbXBsZXRlRXJyb3JNZXNzYWdlID0gYXNzZXJ0LmNhbGxlci5uYW1lICsgJzogJztcbiAgICB9XG5cbiAgICBjb21wbGV0ZUVycm9yTWVzc2FnZSArPSBlcnJvck1lc3NhZ2U7XG4gICAgdGhyb3cgbmV3IEVycm9yKGNvbXBsZXRlRXJyb3JNZXNzYWdlKTtcbiAgfVxufVxuXG52YXIgSGlnaGxpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIaWdobGlnaHQoZWwpIHtcbiAgICBiYWJlbEhlbHBlcnMuY2xhc3NDYWxsQ2hlY2sodGhpcywgSGlnaGxpZ2h0KTtcblxuICAgIHRoaXMuc2V0QWN0aXZlKGVsKTtcbiAgfVxuXG4gIGJhYmVsSGVscGVycy5jcmVhdGVDbGFzcyhIaWdobGlnaHQsIFt7XG4gICAga2V5OiAndHJhbnNsYXRlWCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zbGF0ZVgodmFsKSB7XG4gICAgICBhc3NlcnQodHlwZW9mIHZhbCA9PT0gJ251bWJlcicsICd0cmFuc2xhdGVYIHZhbHVlIGlzIG5vdCBhIG51bWJlcicpO1xuICAgICAgdGhpcy5iYXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKCcgKyB2YWwgKyAncHgsIDAsIDApJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRXaWR0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFdpZHRoKHZhbCkge1xuICAgICAgYXNzZXJ0KHR5cGVvZiB2YWwgPT09ICdudW1iZXInLCAndHJhbnNsYXRlWCB2YWx1ZSBpcyBub3QgYSBudW1iZXInKTtcbiAgICAgIHRoaXMuYmFyLnN0eWxlLndpZHRoID0gdmFsICsgJ3B4JztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRCYXNlWFBvc2l0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QmFzZVhQb3NpdGlvbigpIHtcbiAgICAgIHZhciBwYXJlbnRCb3ggPSB0aGlzLnBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHJldHVybiBwYXJlbnRCb3gubGVmdDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXR1cm5Ub0Jhc2VQb3NpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJldHVyblRvQmFzZVBvc2l0aW9uKCkge1xuICAgICAgdGhpcy50cmFuc2xhdGVYKDApO1xuICAgICAgdmFyIHBhcmVudEJveCA9IHRoaXMucGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIHBhcmVudFdpZHRoID0gcGFyZW50Qm94LnJpZ2h0IC0gcGFyZW50Qm94LmxlZnQ7XG4gICAgICB0aGlzLnNldFdpZHRoKHBhcmVudFdpZHRoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtb3ZlVG9FbGVtZW50UG9zaXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlVG9FbGVtZW50UG9zaXRpb24oZWwpIHtcbiAgICAgIHZhciBiYXNlUG9zID0gdGhpcy5nZXRCYXNlWFBvc2l0aW9uKCk7XG4gICAgICB2YXIgZWxCb3ggPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciBkaXNwbGFjZW1lbnQgPSBlbEJveC5sZWZ0IC0gYmFzZVBvcztcbiAgICAgIHRoaXMudHJhbnNsYXRlWChkaXNwbGFjZW1lbnQpO1xuICAgICAgdmFyIGVsV2lkdGggPSBlbEJveC5yaWdodCAtIGVsQm94LmxlZnQ7XG4gICAgICB0aGlzLnNldFdpZHRoKGVsV2lkdGgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldEFjdGl2ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFjdGl2ZShlbCkge1xuICAgICAgaWYgKHRoaXMuYmFyKSB7XG4gICAgICAgIHRoaXMuYmFyLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmJhciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGFzc2VydChlbCAmJiBlbC5ub2RlTmFtZSwgJ0ludmFsaWQgZWxlbWVudCBwYXNzZWQgdG8gc2V0QWN0aXZlJyk7XG4gICAgICB0aGlzLnBhcmVudCA9IGVsO1xuICAgICAgdGhpcy5iYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHRoaXMuYmFyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1oaWdobGlnaHQnKTtcbiAgICAgIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuYmFyKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEhpZ2hsaWdodDtcbn0oKTtcblxudmFyIEFjdGl2ZUhpZ2hsaWdodGVyID0gZnVuY3Rpb24gQWN0aXZlSGlnaGxpZ2h0ZXIoKSB7XG4gIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgdmFyIGJ1dHRvbnMgPSBfcmVmLmJ1dHRvbnM7XG4gIHZhciBfcmVmJGFjdGl2ZUluZGV4ID0gX3JlZi5hY3RpdmVJbmRleDtcbiAgdmFyIGFjdGl2ZUluZGV4ID0gX3JlZiRhY3RpdmVJbmRleCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYkYWN0aXZlSW5kZXg7XG4gIHZhciBfcmVmJGhpZ2hsaWdodE9uQ2xpY2sgPSBfcmVmLmhpZ2hsaWdodE9uQ2xpY2s7XG4gIHZhciBoaWdobGlnaHRPbkNsaWNrID0gX3JlZiRoaWdobGlnaHRPbkNsaWNrID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkaGlnaGxpZ2h0T25DbGljaztcbiAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrKHRoaXMsIEFjdGl2ZUhpZ2hsaWdodGVyKTtcblxuICAvLyBOT1RFOiBUaGlzIG1vZHVsZSBhc3N1bWVzIHRoYXQgYWxsIHRhYnMgc2hhcmUgYSBjb21tb24gcGFyZW50LlxuICB2YXIgYnV0dG9uc0FycmF5ID0gdm9pZCAwO1xuICB2YXIgdGFic1BhcmVudCA9IHZvaWQgMDtcblxuICBpZiAoYnV0dG9ucy5ub2RlTmFtZSkge1xuICAgIC8vIElmIHRhYnMgaXMgYSBjb250YWluZXIsIGhhbmRsZSBhbGwgY2hpbGRyZW5cbiAgICBidXR0b25zQXJyYXkgPSBBcnJheS5mcm9tKGJ1dHRvbnMuY2hpbGRyZW4pO1xuICAgIHRhYnNQYXJlbnQgPSBidXR0b25zO1xuICB9IGVsc2UgaWYgKGJ1dHRvbnMubGVuZ3RoKSB7XG4gICAgLy8gSWYgdGFicyBpcyBhcnJheWxpa2UgaGFuZGxlIGFsbCBlbGVtZW50cyBpbiB0aGUgYXJyYXkuXG4gICAgYnV0dG9uc0FycmF5ID0gQXJyYXkuZnJvbShidXR0b25zKTtcbiAgICB0YWJzUGFyZW50ID0gYnV0dG9uc0FycmF5WzBdLnBhcmVudEVsZW1lbnQ7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGVsZW1lbnQgc2VuZCB0byBBY3RpdmVIaWdobGlnaHRlci4nKTtcbiAgfVxuXG4gIHZhciBhY3RpdmVIaWdobGlnaHQgPSBuZXcgSGlnaGxpZ2h0KGJ1dHRvbnNBcnJheVthY3RpdmVJbmRleF0pO1xuXG4gIC8vIE1vdmUgaGlnaGxpZ2h0IGJhY2sgdG8gbm9ybWFsIHdoZW4gbW91c2UgbGVhdmVzIGJ1dHRvbnMgYXJlYVxuICB0YWJzUGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciB0YWJzUGFydGVudEJveCA9IHRhYnNQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIG91dHNpZGVYID0gZS5wYWdlWCA+IHRhYnNQYXJ0ZW50Qm94LnJpZ2h0IHx8IGUucGFnZVggPCB0YWJzUGFydGVudEJveC5sZWZ0O1xuICAgIHZhciBvdXRzaWRlWSA9IGUucGFnZVkgPiB0YWJzUGFydGVudEJveC5ib3R0b20gfHwgZS5wYWdlWSA8IHRhYnNQYXJ0ZW50Qm94LnRvcDtcbiAgICB2YXIgbW91c2VPdXRPZlRhYnNQYXJlbnQgPSBvdXRzaWRlWCB8fCBvdXRzaWRlWTtcbiAgICBpZiAobW91c2VPdXRPZlRhYnNQYXJlbnQpIHtcbiAgICAgIGFjdGl2ZUhpZ2hsaWdodC5yZXR1cm5Ub0Jhc2VQb3NpdGlvbigpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gTW92ZSBoaWdobGlnaHQgdG8gdGhlIGNvcnJlc3BvbmRpbmcgZWxlbWVudCBvbiBob3Zlci5cbiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgdmFyIF9sb29wMiA9IGZ1bmN0aW9uIF9sb29wMigpIHtcbiAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWN0aXZlSGlnaGxpZ2h0Lm1vdmVUb0VsZW1lbnRQb3NpdGlvbihpdGVtKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBidXR0b25zQXJyYXlbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICBfbG9vcDIoKTtcbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgbWFpbiBoaWdobGlnaHRlZCBlbGVtZW50IG9uIGNsaWNrIGlmIGFwcHJvcHJpYXRlXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGhpZ2hsaWdodE9uQ2xpY2spIHtcbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkge1xuICAgICAgICB2YXIgaXRlbSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGFjdGl2ZUhpZ2hsaWdodC5zZXRBY3RpdmUoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IGJ1dHRvbnNBcnJheVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICBfbG9vcCgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbnZhciBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYi1sYWJlbCcpO1xudmFyIGFjdGl2ZUluZGV4ID0gMDtcbnZhciBoaWdobGlnaHRPbkNsaWNrID0gdHJ1ZTtcbm5ldyBBY3RpdmVIaWdobGlnaHRlcih7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gIGJ1dHRvbnM6IGJ1dHRvbnMsXG4gIGFjdGl2ZUluZGV4OiBhY3RpdmVJbmRleCxcbiAgaGlnaGxpZ2h0T25DbGljazogaGlnaGxpZ2h0T25DbGlja1xufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
